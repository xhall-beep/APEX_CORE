#!/bin/bash
echo "‚ö° Syncing Sovereign Stack to GitHub..."
git add .
git commit -m "Auto-Update: $(date)"
git push origin main

echo "üì¶ Creating Sovereign Release & Uploading APK..."
VERSION="v$(date +%Y%m%d%H%M)"
# Find the APK generated by Buildozer
APK_PATH=$(find bin/ -name "*.apk" | head -n 1)

if [ -f "$APK_PATH" ]; then
    gh release create "$VERSION" "$APK_PATH" --title "Reech Core $VERSION" --notes "Autonomous Build Successful."
    echo "üî± RELEASE LIVE: $(gh release view "$VERSION" --json url -q .url)"
else
    echo "‚ùå Error: No APK found in bin/. Forge the binary first."
fi
